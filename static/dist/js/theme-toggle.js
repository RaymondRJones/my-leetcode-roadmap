const m="leetcode-roadmap-theme",t={DARK:"dark",LEGACY:"legacy"};function i(){const e=localStorage.getItem(m);return e&&Object.values(t).includes(e)?e:t.DARK}function s(e){document.documentElement.setAttribute("data-theme",e),localStorage.setItem(m,e),document.cookie=`theme=${e};path=/;max-age=31536000;SameSite=Lax`,l(e),window.dispatchEvent(new CustomEvent("themechange",{detail:{theme:e}}))}function a(){const n=i()===t.DARK?t.LEGACY:t.DARK;s(n),n===t.LEGACY?setTimeout(()=>{window.location.reload()},100):setTimeout(()=>{window.location.reload()},100)}function l(e){const n=document.getElementById("theme-toggle-btn"),o=document.getElementById("theme-icon-sun"),d=document.getElementById("theme-icon-moon"),c=document.getElementById("theme-label");n&&(e===t.LEGACY?(o&&o.classList.remove("hidden"),d&&d.classList.add("hidden"),c&&(c.textContent="Dark Mode")):(o&&o.classList.add("hidden"),d&&d.classList.remove("hidden"),c&&(c.textContent="Classic Mode")))}function u(){const e=i();document.documentElement.setAttribute("data-theme",e),l(e)}u();document.addEventListener("DOMContentLoaded",()=>{u();const e=document.getElementById("theme-toggle-btn");e&&e.addEventListener("click",a)});window.ThemeToggle={getCurrentTheme:i,setTheme:s,toggleTheme:a,THEMES:t};
